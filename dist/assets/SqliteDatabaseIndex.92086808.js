import{_ as h,r as o,o as m,g as w,a as t,b as a,w as r,n as c,e as q,d as y,c as g}from"./main.faceb598.js";const v={data(){return{form:{sqlite_file:null},download_url:`/phmoney/teams/${this.store.user.current_team_id}/database/download`}},methods:{async submit(){let e=new FormData;e.append("sqlite_file",this.form.sqlite_file),await this.store.post(`/phmoney/teams/${this.store.user.current_team_id}/database/upload`,e,{headers:{"Content-Type":"multipart/form-data"}}),this.store.errors===null&&(this.store.errors="File imported succesfully")}}},D=t("p",null,"Load or save data as sqlite file.",-1),S={class:"flex items-center justify-end mt-4 gap-2"},x=["href"],C=t("span",{class:"material-icons-outlined"}," download ",-1),$=[C],k=t("span",{class:"material-icons-outlined"},"upload",-1);function B(e,s,_,i,l,d){const u=o("form-label"),f=o("form-input"),p=o("form-secondary-button"),b=o("form-button");return m(),w("form",{onSubmit:s[1]||(s[1]=q((...n)=>d.submit&&d.submit(...n),["prevent"])),class:"p-6"},[D,t("div",null,[a(u,{for:"sqlite_file",value:"Select a Sqlite file"}),a(f,{id:"sqlite_file",type:"file",class:"mt-1 block w-full",onInput:s[0]||(s[0]=n=>l.form.sqlite_file=n.target.files[0]),required:"",autofocus:""})]),t("div",S,[a(p,{class:c({"opacity-25":e.store.processing}),disabled:e.store.processing,title:"Download"},{default:r(()=>[t("a",{href:l.download_url},$,8,x)]),_:1},8,["class","disabled"]),a(b,{class:c({"opacity-25":e.store.processing}),disabled:e.store.processing||l.form.sqlite_file===null,title:"Uploads"},{default:r(()=>[k]),_:1},8,["class","disabled"])])],32)}var F=h(v,[["render",B]]);const I={class:"bg-white shadow mt-4 prose max-w-none"},N=y({name:"SqliteDatabaseIndex",setup(e){return(s,_)=>{const i=o("FormLayout");return m(),g(i,{title:"Sqlite Database"},{default:r(()=>[t("div",I,[a(F)])]),_:1})}}});export{N as default};
