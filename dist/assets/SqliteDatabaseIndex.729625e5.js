import{_ as h,r as o,o as _,g as w,a as t,b as a,w as n,n as c,e as y,d as q,c as g}from"./main.769fda87.js";const v={data(){return{form:{sqlite_file:null},download_url:`/phmoney/teams/${this.store.user.current_team_id}/database/download`}},methods:{async submit(){let e=new FormData;e.append("sqlite_file",this.form.sqlite_file),await this.store.post(`/phmoney/teams/${this.store.user.current_team_id}/database/upload`,e,{headers:{"Content-Type":"multipart/form-data"}}),this.store.errors===null&&(this.store.errors="File imported succesfully")}}},C=t("p",null,"Load or save data as sqlite file.",-1),D={class:"flex items-center justify-end mt-4 gap-2"},S=["href"],$=t("span",{class:"material-icons-outlined"}," download ",-1),k=[$],x=t("span",{class:"material-icons-outlined"},"upload",-1);function B(e,s,m,i,l,d){const u=o("form-label"),f=o("form-input"),p=o("form-secondary-button"),b=o("form-button");return _(),w("form",{onSubmit:s[1]||(s[1]=y((...r)=>d.submit&&d.submit(...r),["prevent"])),class:"p-6"},[C,t("div",null,[a(u,{for:"sqlite_file",value:"Select a Sqlite file"}),a(f,{id:"sqlite_file",type:"file",class:"mt-1 block w-full",onInput:s[0]||(s[0]=r=>l.form.sqlite_file=r.target.files[0]),required:"",autofocus:""})]),t("div",D,[a(p,{class:c({"opacity-25":e.store.processing}),disabled:e.store.processing,title:"Download"},{default:n(()=>[t("a",{href:l.download_url},k,8,S)]),_:1},8,["class","disabled"]),a(b,{class:c({"opacity-25":e.store.processing}),disabled:e.store.processing||l.form.sqlite_file===null,title:"Uploads"},{default:n(()=>[x]),_:1},8,["class","disabled"])])],32)}var F=h(v,[["render",B]]);const L={class:"bg-white shadow mt-4 prose max-w-none"},N=q({setup(e){return(s,m)=>{const i=o("FormLayout");return _(),g(i,{title:"Sqlite Database"},{default:n(()=>[t("div",L,[a(F)])]),_:1})}}});export{N as default};
