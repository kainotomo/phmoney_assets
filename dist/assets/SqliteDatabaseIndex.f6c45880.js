import{_,r as s,o as c,g as y,a as t,b as a,w as i,n as m,e as q,d as w,c as v}from"./main.ab09678c.js";const k={data(){return{form:{sqlite_file:null},download_url:`http://phmoney_app.kainotomo.localhost/phmoney/teams/${this.store.user.current_team_id}/database/download`}},methods:{async submit(){let e=new FormData;e.append("sqlite_file",this.form.sqlite_file),await this.store.post(`http://phmoney_app.kainotomo.localhost/phmoney/teams/${this.store.user.current_team_id}/database/upload`,e,{headers:{"Content-Type":"multipart/form-data"}}),this.store.errors===null&&(this.store.errors="File imported succesfully")}}},D=t("p",null,"Load or save data as sqlite file.",-1),S={class:"flex items-center justify-end mt-4 gap-2"},g=["href"],x=t("span",{class:"material-icons-outlined"}," download ",-1),I=[x],$=t("span",{class:"material-icons-outlined"},"upload",-1);function C(e,o,p,r,n,d){const u=s("form-label"),f=s("form-input"),h=s("form-secondary-button"),b=s("form-button");return c(),y("form",{onSubmit:o[1]||(o[1]=q((...l)=>d.submit&&d.submit(...l),["prevent"])),class:"p-6"},[D,t("div",null,[a(u,{for:"sqlite_file",value:"Select a Sqlite file"}),a(f,{id:"sqlite_file",type:"file",class:"mt-1 block w-full",onInput:o[0]||(o[0]=l=>n.form.sqlite_file=l.target.files[0]),required:"",autofocus:""})]),t("div",S,[a(h,{class:m({"opacity-25":e.store.processing}),disabled:e.store.processing,title:"Download"},{default:i(()=>[t("a",{href:n.download_url},I,8,g)]),_:1},8,["class","disabled"]),a(b,{class:m({"opacity-25":e.store.processing}),disabled:e.store.processing||n.form.sqlite_file===null,title:"Uploads"},{default:i(()=>[$]),_:1},8,["class","disabled"])])],32)}var B=_(k,[["render",C],["__file","/home/phalo/kainotomo/phmoney_docker/phmoney_assets/src/components/import/sqlite_database/SqliteDatabaseIndex.vue"]]);const F={class:"bg-white shadow mt-4 prose max-w-none"},L=w({name:"SqliteDatabaseIndex",setup(e){return(o,p)=>{const r=s("FormLayout");return c(),v(r,{title:"Sqlite Database"},{default:i(()=>[t("div",F,[a(B)])]),_:1})}}});var V=_(L,[["__file","/home/phalo/kainotomo/phmoney_docker/phmoney_assets/src/views/import/sqlite_database/SqliteDatabaseIndex.vue"]]);export{V as default};
