var q=Object.defineProperty,x=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var _=(s,e,n)=>e in s?q(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,v=(s,e)=>{for(var n in e||(e={}))F.call(e,n)&&_(s,n,e[n]);if(f)for(var n of f(e))L.call(e,n)&&_(s,n,e[n]);return s},y=(s,e)=>x(s,B(e));import{_ as S,x as h,r as d,o as a,g as u,a as i,b as r,n as g,k as b,p as k,l as V,m as w,t as I,w as D,e as N,d as A,c as P,i as M}from"./main.592b4848.js";const T={data(){return{form:{date_posted:h.convert_date(),date_due:h.convert_date(this.store.props.date_due),description:null,account_guid:null,accumulate:!0}}},methods:{async submit(){await this.store.post(`http://phmoney_app.kainotomo.localhost/phmoney/business/invoices/post/${this.$route.params.invoice_pk}`,this.form),this.$router.back()}}},j={class:"p-3 border"},z={class:"flex flex-wrap gap-2"},E=i("option",{disabled:"",value:null},"- Select receivable account -",-1),G=["value"],H=i("option",{disabled:"",value:null},"- Select payable account -",-1),J=["value"],K={class:"flex gap-2 items-center justify-end mt-4"},O=i("span",{class:"material-icons-outlined"}," save ",-1);function Q(s,e,n,p,t,m){const l=d("form-label"),c=d("form-input"),U=d("form-checkbox"),C=d("form-button");return a(),u("form",{onSubmit:e[6]||(e[6]=N((...o)=>m.submit&&m.submit(...o),["prevent"])),class:"p-6"},[i("div",j,[i("div",z,[i("div",null,[r(l,{for:"date_posted",value:"Post Date"}),r(c,{id:"date_posted",type:"date",modelValue:t.form.date_posted,"onUpdate:modelValue":e[0]||(e[0]=o=>t.form.date_posted=o),required:""},null,8,["modelValue"])]),i("div",null,[r(l,{for:"date_due",value:"Due Date"}),r(c,{id:"date_due",type:"date",modelValue:t.form.date_due,"onUpdate:modelValue":e[1]||(e[1]=o=>t.form.date_due=o),class:g({"opacity-60":s.store.props.invoice.terms}),disabled:s.store.props.invoice.terms,required:""},null,8,["modelValue","class","disabled"])]),i("div",null,[r(l,{for:"description",value:"Description"}),r(c,{id:"description",type:"text",modelValue:t.form.description,"onUpdate:modelValue":e[2]||(e[2]=o=>t.form.description=o)},null,8,["modelValue"])]),i("div",null,[r(l,{for:"account",value:"Post to Account"}),s.store.getInvoiceType()==="Invoice"?b((a(),u("select",{key:0,id:"account","onUpdate:modelValue":e[3]||(e[3]=o=>t.form.account_guid=o),required:"",class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},[E,(a(!0),u(V,null,w(s.store.props.i_accounts,o=>(a(),u("option",{key:o.guid,value:o.guid},I(o.name),9,G))),128))],512)),[[k,t.form.account_guid]]):b((a(),u("select",{key:1,id:"account","onUpdate:modelValue":e[4]||(e[4]=o=>t.form.account_guid=o),required:"",class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},[H,(a(!0),u(V,null,w(s.store.props.b_accounts,o=>(a(),u("option",{key:o.guid,value:o.guid},I(o.name),9,J))),128))],512)),[[k,t.form.account_guid]])]),i("div",null,[r(l,{for:"accumulate",value:"Accumulate Splits?"}),r(U,{id:"accumulate",checked:t.form.accumulate,"onUpdate:checked":e[5]||(e[5]=o=>t.form.accumulate=o)},null,8,["checked"])])])]),i("div",K,[r(C,{class:g({"opacity-25":t.form.processing||!t.form.account_guid}),disabled:t.form.processing||!t.form.account_guid,title:"Save"},{default:D(()=>[O]),_:1},8,["class","disabled"])])],32)}var R=S(T,[["render",Q],["__file","/home/phalo/kainotomo/phmoney/phmoney_assets/src/components/business/invoices/InvoicesPost.vue"]]);const W={class:"bg-white shadow mt-4 prose max-w-none"},X={async created(){await this.store.get(`http://phmoney_app.kainotomo.localhost/phmoney/business/invoices/post/${this.$route.params.invoice_pk}`)}},Y=A(y(v({},X),{name:"InvoicesPost",setup(s){return(e,n)=>{const p=d("FormLayout");return a(),P(p,{title:`Post ${e.store.props.invoice?e.store.getInvoiceType()+" - "+e.store.props.invoice.id:"..."}`},{default:D(()=>[i("div",W,[e.store.processing?M("v-if",!0):(a(),P(R,{key:0}))])]),_:1},8,["title"])}}}));var ee=S(Y,[["__file","/home/phalo/kainotomo/phmoney/phmoney_assets/src/views/business/invoices/InvoicesPost.vue"]]);export{ee as default};
