var j=Object.defineProperty,A=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var b=(o,e,s)=>e in o?j(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s,k=(o,e)=>{for(var s in e||(e={}))L.call(e,s)&&b(o,s,e[s]);if(v)for(var s of v(e))U.call(e,s)&&b(o,s,e[s]);return o},g=(o,e)=>A(o,I(e));import{_ as x,r,o as i,g as u,a as t,b as l,w as d,l as B,m as P,t as p,i as c,c as C,d as E}from"./main.ab09678c.js";const R={data(){return{filter:{page:1,name:null,id:null,customer_name:null,vendor_name:null,only_active:!1}}},methods:{clear(){this.filter={page:1,name:null,id:null,customer_name:null,vendor_name:null,only_active:!1},this.load(1)},async load(o){this.filter.page=o,await this.store.get("http://phmoney_app.kainotomo.localhost/phmoney/business/jobs",this.filter)},async destroy(o){confirm("Are you sure you want to delete this item?")&&(await this.store.delete(`http://phmoney_app.kainotomo.localhost/phmoney/business/jobs/destroy/${o.pk}`),this.load(1))}}},D={class:"p-6 overflow-x-auto"},S={class:"flex flex-wrap gap-2"},z=t("span",{class:"material-icons-outlined"}," search ",-1),F=t("span",{class:"material-icons-outlined"}," search_off ",-1),O=t("th",null,"Company Name",-1),$=t("th",null,"Job Number",-1),q=t("th",null,"Customer",-1),G=t("th",null,"Vendor",-1),H=t("th",null,"Rate",-1),K=t("span",{class:"material-icons-outlined"},"add",-1),M={key:0},Q={key:0},T={class:"flex"},W=t("span",{class:"material-icons-outlined"},"summarize",-1),X=t("span",{class:"material-icons-outlined"},"edit",-1),Y=["onClick"],Z=t("span",{class:"material-icons-outlined"},"delete",-1),ee=[Z];function te(o,e,s,h,a,m){const V=r("form-label"),w=r("form-checkbox"),_=r("form-input"),f=r("form-button"),N=r("form-secondary-button"),y=r("RouterLink"),J=r("Pagination");return i(),u("div",D,[t("div",S,[t("div",null,[l(V,{for:"only_active",value:"Only Active?"}),l(w,{id:"only_active",checked:a.filter.only_active,"onUpdate:checked":e[0]||(e[0]=n=>a.filter.only_active=n),onChange:e[1]||(e[1]=n=>m.load(1))},null,8,["checked"])]),l(_,{id:"name",name:"filter_name",type:"text",modelValue:a.filter.name,"onUpdate:modelValue":e[2]||(e[2]=n=>a.filter.name=n),placeholder:"Job Name..."},null,8,["modelValue"]),l(_,{id:"id",name:"filter_id",type:"text",modelValue:a.filter.id,"onUpdate:modelValue":e[3]||(e[3]=n=>a.filter.id=n),placeholder:"Job Number..."},null,8,["modelValue"]),l(_,{id:"customer_name",name:"filter_customer_name",type:"text",modelValue:a.filter.customer_name,"onUpdate:modelValue":e[4]||(e[4]=n=>a.filter.customer_name=n),placeholder:"Customer Name..."},null,8,["modelValue"]),l(_,{id:"vendor_name",name:"filter_vendor_name",type:"text",modelValue:a.filter.vendor_name,"onUpdate:modelValue":e[5]||(e[5]=n=>a.filter.vendor_name=n),placeholder:"Vendor Name..."},null,8,["modelValue"]),l(f,{onClick:e[6]||(e[6]=n=>m.load(1)),title:"Search"},{default:d(()=>[z]),_:1}),l(N,{title:"Clear",onClick:m.clear},{default:d(()=>[F]),_:1},8,["onClick"])]),t("table",null,[t("thead",null,[t("tr",null,[O,$,q,G,H,t("th",null,[l(f,{onClick:e[7]||(e[7]=n=>o.$router.push({name:"business.jobs.create"})),title:"Add New"},{default:d(()=>[K]),_:1})])])]),t("tbody",null,[o.store.props.jobs?(i(!0),u(B,{key:0},P(o.store.props.jobs.data,n=>(i(),u("tr",{key:n.guid},[t("td",null,p(n.name),1),t("td",null,p(n.id),1),t("td",null,[n.customer?(i(),u("span",M,p(n.customer.name),1)):c("v-if",!0)]),t("td",null,[n.vendor?(i(),u("span",Q,p(n.vendor.name),1)):c("v-if",!0)]),t("td",null,p(n.rate.numeric_val_num),1),t("td",null,[t("div",T,[l(y,{class:"text-gray-500 hover:text-gray-300",to:{name:"business.jobs.edit",params:{job_pk:n.pk}},title:"Edit"},{default:d(()=>[W]),_:2},1032,["to"]),l(y,{class:"text-sky-500 hover:text-sky-300",to:{name:"business.jobs.edit",params:{job_pk:n.pk}},title:"Edit"},{default:d(()=>[X]),_:2},1032,["to"]),t("div",{class:"text-red-500 hover:text-red-300 hover:cursor-pointer",onClick:ae=>m.destroy(n),title:"Delete"},ee,8,Y)])])]))),128)):c("v-if",!0)]),t("tfoot",null,[o.store.props.jobs&&o.store.props.jobs.total>o.store.props.jobs.per_page?(i(),C(J,{key:0,current:o.store.props.jobs.current_page,total:o.store.props.jobs.total,"per-page":o.store.props.jobs.per_page,onPageChanged:m.load},null,8,["current","total","per-page","onPageChanged"])):c("v-if",!0)])])])}var oe=x(R,[["render",te],["__file","/home/phalo/kainotomo/phmoney_docker/phmoney_assets/src/components/business/jobs/JobsIndex.vue"]]);const ne={class:"bg-white shadow mt-4 prose max-w-none"},se={async created(){await this.store.get("http://phmoney_app.kainotomo.localhost/phmoney/business/jobs")}},le=E(g(k({},se),{name:"JobsIndex",setup(o){return(e,s)=>{const h=r("AppLayout");return i(),C(h,{title:"Jobs"},{default:d(()=>[t("div",ne,[l(oe)])]),_:1})}}}));var de=x(le,[["__file","/home/phalo/kainotomo/phmoney_docker/phmoney_assets/src/views/business/jobs/JobsIndex.vue"]]);export{de as default};
