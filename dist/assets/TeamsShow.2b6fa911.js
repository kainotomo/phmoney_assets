var C=Object.defineProperty,S=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var w=(l,e,o)=>e in l?C(l,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[e]=o,U=(l,e)=>{for(var o in e||(e={}))j.call(e,o)&&w(l,o,e[o]);if(V)for(var o of V(e))E.call(e,o)&&w(l,o,e[o]);return l},x=(l,e)=>S(l,M(e));import{_ as h,r as u,o as p,g as c,b as t,a as s,t as b,n as r,w as T,e as g,i as d,k,p as N,l as B,m as F,d as P,c as D}from"./main.ffef03e2.js";const I={props:["team","permissions"],data(){return{form:{name:this.team.name}}},methods:{async submit(){try{await this.store.axios.put(`http://phmoney_local.kainotomo.localhost/phmoney/teams/${this.$route.params.team_pk}`,this.form)}catch{}await this.store.get(`http://phmoney_local.kainotomo.localhost/phmoney/teams/${this.$route.params.team_pk}`)}}},L={class:"p-6"},O=s("h3",null,"Team Name",-1),J=s("p",null,"The team's name and owner information.",-1),A={class:"flex items-center mt-2"},q=["src","alt"],W={class:"ml-4 leading-tight"},z={class:"text-sm text-gray-700"},G={class:"flex flex-wrap gap-2"},H=s("span",{class:"material-icons-outlined"}," save ",-1);function K(l,e,o,v,n,_){const i=u("form-label"),f=u("form-input"),y=u("form-button");return p(),c("div",L,[O,J,t(i,{value:"Team Owner"}),s("div",A,[s("img",{class:"object-cover w-12 h-12 rounded-full",src:l.store.user.profile_photo_url,alt:l.store.user.name},null,8,q),s("div",W,[s("div",null,b(l.store.user.name),1),s("div",z,b(l.store.user.email),1)])]),s("form",{onSubmit:e[1]||(e[1]=g((...m)=>_.submit&&_.submit(...m),["prevent"]))},[s("div",G,[t(i,{for:"name",value:"Team Name"}),t(f,{id:"name",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.name,"onUpdate:modelValue":e[0]||(e[0]=m=>n.form.name=m),required:"",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),t(y,{class:r(["mt-4",{"opacity-25":l.store.processing}]),disabled:l.store.processing,title:"Save"},{default:T(()=>[H]),_:1},8,["class","disabled"])],32)])}var Q=h(I,[["render",K],["__file","/var/www/html/src/components/teams/TeamsEdit.vue"]]);const X={props:["team","permissions","options"],data(){return{form:{options:{accounting_period:{date_start:this.options.accounting_period.date_start,date_end:this.options.accounting_period.date_end},business:{company_name:this.options.business.company_name,company_address:this.options.business.company_address,company_contact_person:this.options.business.company_contact_person,company_phone_number:this.options.business.company_phone_number,company_fax_number:this.options.business.company_fax_number,company_email_address:this.options.business.company_email_address,company_website_url:this.options.business.company_website_url,company_id:this.options.business.company_id,default_customer_taxtable:this.options.business.default_customer_taxtable,default_vendor_taxtable:this.options.business.default_vendor_taxtable},tax:{tax_number:this.options.tax.tax_number},counters:{bill:this.options.counters.bill,vendor:this.options.counters.vendor,invoice:this.options.counters.invoice,job:this.options.counters.job,employee:this.options.counters.employee},counter_formats:{bill:this.options.counter_formats.bill,vendor:this.options.counter_formats.vendor,invoice:this.options.counter_formats.invoice,job:this.options.counter_formats.job,employee:this.options.counter_formats.employee}}}}},methods:{async submit(){await this.store.put(`http://phmoney_local.kainotomo.localhost/phmoney/teams/${this.$route.params.team_pk}/options/store`,this.form),await this.store.get(`http://phmoney_local.kainotomo.localhost/phmoney/teams/${this.$route.params.team_pk}`)}}},Y={class:"p-6"},Z=s("h3",null,"Options",-1),$=s("p",null,"The team's business options.",-1),ee={class:"grid grid-cols-6 gap-6"},se=s("div",{class:"col-span-6 sm:col-span-6"},[s("h4",{class:"text-md font-bold text-gray-900"},"Accounting Period")],-1),oe={class:"col-span-6 sm:col-span-3"},te={class:"col-span-6 sm:col-span-3"},ae=s("div",{class:"col-span-6 sm:col-span-6"},[s("h4",{class:"text-md font-bold text-gray-900"},"Business")],-1),ne={class:"col-span-6 sm:col-span-2"},le={class:"col-span-6 sm:col-span-2"},ie={class:"col-span-6 sm:col-span-2"},me={class:"col-span-6 sm:col-span-2"},re={class:"col-span-6 sm:col-span-2"},de={class:"col-span-6 sm:col-span-2"},ue={class:"col-span-6 sm:col-span-4"},pe={class:"col-span-6 sm:col-span-2"},ce={class:"col-span-6 sm:col-span-2"},_e=s("option",{value:null,class:"text-gray-500"},"Select Tax Table",-1),be=["value"],fe={class:"col-span-6 sm:col-span-4"},ye=s("option",{value:null,class:"text-gray-500"},"Select Tax Table",-1),ve=["value"],he=s("div",{class:"col-span-6 sm:col-span-6 border-t pt-2"},[s("h4",{class:"text-md font-bold text-gray-900"},"Tax")],-1),Te={class:"col-span-6 sm:col-span-2"},ge=s("div",{class:"col-span-6 sm:col-span-6 border-t pt-2"},[s("h4",{class:"text-md font-bold text-gray-900"},"Counters")],-1),Ve={class:"col-span-6 sm:col-span-2"},we={class:"col-span-6 sm:col-span-4"},Ue={class:"col-span-6 sm:col-span-2"},xe={class:"col-span-6 sm:col-span-4"},ke={class:"col-span-6 sm:col-span-2"},Ne={class:"col-span-6 sm:col-span-4"},Be={class:"col-span-6 sm:col-span-2"},Fe={class:"col-span-6 sm:col-span-4"},Re={class:"col-span-6 sm:col-span-2"},Ce={class:"col-span-6 sm:col-span-4"},Se=s("span",{class:"material-icons-outlined"}," save ",-1);function Me(l,e,o,v,n,_){const i=u("form-label"),f=u("date-picker-start"),y=u("date-picker-end"),m=u("form-input"),R=u("form-button");return p(),c("div",Y,[Z,$,s("form",{onSubmit:e[23]||(e[23]=g((...a)=>_.submit&&_.submit(...a),["prevent"]))},[s("div",ee,[se,s("div",oe,[t(i,{for:"accounting_period_date_start",value:"Start Date"}),t(f,{id:"accounting_period_date_start",name:"accounting_period_date_start",modelValue:n.form.options.accounting_period.date_start,"onUpdate:modelValue":e[0]||(e[0]=a=>n.form.options.accounting_period.date_start=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled"])]),s("div",te,[t(i,{for:"accounting_period_date_end",value:"End Date"}),t(y,{id:"accounting_period_date_end",name:"accounting_period_date_end",modelValue:n.form.options.accounting_period.date_end,"onUpdate:modelValue":e[1]||(e[1]=a=>n.form.options.accounting_period.date_end=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled"])]),ae,d(" Business Company Name "),s("div",ne,[t(i,{for:"business_company_name",value:"Company Name"}),t(m,{id:"business_company_name",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.business.company_name,"onUpdate:modelValue":e[2]||(e[2]=a=>n.form.options.business.company_name=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Company Address "),s("div",le,[t(i,{for:"business_company_address",value:"Company Address"}),t(m,{id:"business_company_address",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.business.company_address,"onUpdate:modelValue":e[3]||(e[3]=a=>n.form.options.business.company_address=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Contact Person "),s("div",ie,[t(i,{for:"business_company_contact_person",value:"Company Contact Person"}),t(m,{id:"business_company_contact_person",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.business.company_contact_person,"onUpdate:modelValue":e[4]||(e[4]=a=>n.form.options.business.company_contact_person=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Phone Number "),s("div",me,[t(i,{for:"business_company_phone_number",value:"Company Phone Number"}),t(m,{id:"business_company_phone_number",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.business.company_phone_number,"onUpdate:modelValue":e[5]||(e[5]=a=>n.form.options.business.company_phone_number=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Fax Number "),s("div",re,[t(i,{for:"business_company_fax_number",value:"Company Fax Number"}),t(m,{id:"business_company_fax_number",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.business.company_fax_number,"onUpdate:modelValue":e[6]||(e[6]=a=>n.form.options.business.company_fax_number=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Email Number "),s("div",de,[t(i,{for:"business_company_email_address",value:"Company Email Number"}),t(m,{id:"business_company_email_address",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.business.company_email_address,"onUpdate:modelValue":e[7]||(e[7]=a=>n.form.options.business.company_email_address=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Website Url "),s("div",ue,[t(i,{for:"business_company_website_url",value:"Company Website Url"}),t(m,{id:"business_company_website_url",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.business.company_website_url,"onUpdate:modelValue":e[8]||(e[8]=a=>n.form.options.business.company_website_url=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Company Id "),s("div",pe,[t(i,{for:"business_company_id",value:"Company ID"}),t(m,{id:"business_company_id",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.business.company_id,"onUpdate:modelValue":e[9]||(e[9]=a=>n.form.options.business.company_id=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Default customer taxtable "),s("div",ce,[t(i,{for:"business_default_customer_taxtable",value:"Default Customer Tax Table"}),k(s("select",{id:"business_default_customer_taxtable","onUpdate:modelValue":e[10]||(e[10]=a=>n.form.options.business.default_customer_taxtable=a),class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},[_e,(p(!0),c(B,null,F(l.store.props.taxtables,a=>(p(),c("option",{key:a.guid,value:a},b(a.name),9,be))),128))],512),[[N,n.form.options.business.default_customer_taxtable]])]),d(" Business Default vendor taxtable "),s("div",fe,[t(i,{for:"business_default_vendor_taxtable",value:"Default Vendor Tax Table"}),k(s("select",{id:"business_default_vendor_taxtable","onUpdate:modelValue":e[11]||(e[11]=a=>n.form.options.business.default_vendor_taxtable=a),class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},[ye,(p(!0),c(B,null,F(l.store.props.taxtables,a=>(p(),c("option",{key:a.guid,value:a},b(a.name),9,ve))),128))],512),[[N,n.form.options.business.default_vendor_taxtable]])]),he,d(" Tax Number "),s("div",Te,[t(i,{for:"tax_number",value:"Tax Number"}),t(m,{id:"tax_number",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.tax.tax_number,"onUpdate:modelValue":e[12]||(e[12]=a=>n.form.options.tax.tax_number=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),ge,d(" Bill Number "),s("div",Ve,[t(i,{for:"bill_number",value:"Bill number"}),t(m,{id:"bill_number",type:"number",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.counters.bill,"onUpdate:modelValue":e[13]||(e[13]=a=>n.form.options.counters.bill=a),min:"0",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Bill Number Format"),s("div",we,[t(i,{for:"bill_number_format",value:"Bill number format"}),t(m,{id:"bill_number_format",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.counter_formats.bill,"onUpdate:modelValue":e[14]||(e[14]=a=>n.form.options.counter_formats.bill=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Vendor Number "),s("div",Ue,[t(i,{for:"vendor_number",value:"Vendor number"}),t(m,{id:"vendor_number",type:"number",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.counters.vendor,"onUpdate:modelValue":e[15]||(e[15]=a=>n.form.options.counters.vendor=a),min:"0",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Vendor Number Format"),s("div",xe,[t(i,{for:"vendor_number_format",value:"Vendor number format"}),t(m,{id:"vendor_number_format",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.counter_formats.vendor,"onUpdate:modelValue":e[16]||(e[16]=a=>n.form.options.counter_formats.vendor=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Invoice Number "),s("div",ke,[t(i,{for:"invoice_number",value:"Invoice number"}),t(m,{id:"invoice_number",type:"number",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.counters.invoice,"onUpdate:modelValue":e[17]||(e[17]=a=>n.form.options.counters.invoice=a),min:"0",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Invoice Number Format"),s("div",Ne,[t(i,{for:"vendor_number_format",value:"Invoice number format"}),t(m,{id:"invoice_number_format",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.counter_formats.invoice,"onUpdate:modelValue":e[18]||(e[18]=a=>n.form.options.counter_formats.invoice=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Job Number "),s("div",Be,[t(i,{for:"job_number",value:"Job number"}),t(m,{id:"job_number",type:"number",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.counters.job,"onUpdate:modelValue":e[19]||(e[19]=a=>n.form.options.counters.job=a),min:"0",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Job Number Format"),s("div",Fe,[t(i,{for:"job_number_format",value:"Job number format"}),t(m,{id:"job_number_format",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.counter_formats.job,"onUpdate:modelValue":e[20]||(e[20]=a=>n.form.options.counter_formats.job=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Employee Number "),s("div",Re,[t(i,{for:"employee_number",value:"Employee number"}),t(m,{id:"employee_number",type:"number",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.counters.employee,"onUpdate:modelValue":e[21]||(e[21]=a=>n.form.options.counters.employee=a),min:"0",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Employee Number Format"),s("div",Ce,[t(i,{for:"job_number_format",value:"Employee number format"}),t(m,{id:"employee_number_format",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:n.form.options.counter_formats.employee,"onUpdate:modelValue":e[22]||(e[22]=a=>n.form.options.counter_formats.employee=a),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])])]),t(R,{class:r(["mt-4",{"opacity-25":l.store.processing}]),disabled:l.store.processing,title:"Save"},{default:T(()=>[Se]),_:1},8,["class","disabled"])],32)])}var je=h(X,[["render",Me],["__file","/var/www/html/src/components/teams/TeamsOptions.vue"]]);const Ee={props:["team","availableRoles","userPermissions"],data(){return{addTeamMemberForm:{email:"",role:null},updateRoleForm:{role:null},leaveTeamForm:{},removeTeamMemberForm:{},currentlyManagingRole:!1,managingRoleFor:null,confirmingLeavingTeam:!1,teamMemberBeingRemoved:null}},methods:{async addTeamMember(){try{await this.store.axios.post(`http://phmoney_local.kainotomo.localhost/phmoney/teams/${this.$route.params.team_pk}/members`,this.addTeamMemberForm)}catch{}await this.store.get(`http://phmoney_local.kainotomo.localhost/phmoney/teams/${this.$route.params.team_pk}`)},async cancelTeamInvitation(l){try{await this.store.axios.delete(`http://phmoney_local.kainotomo.localhost/phmoney/team-invitations/${l.id}`)}catch{}},manageRole(l){this.managingRoleFor=l,this.updateRoleForm.role=l.membership.role,this.currentlyManagingRole=!0},async updateRole(){await this.store.get(`http://phmoney_local.kainotomo.localhost/phmoney/teams/${this.$route.params.team_pk}`),this.updateRoleForm.put(route("team-members.update",[this.team,this.managingRoleFor]),{preserveScroll:!0,onSuccess:()=>this.currentlyManagingRole=!1})},confirmLeavingTeam(){this.confirmingLeavingTeam=!0},leaveTeam(){this.leaveTeamForm.delete(route("team-members.destroy",[this.team,this.$page.props.user]))},confirmTeamMemberRemoval(l){this.teamMemberBeingRemoved=l},removeTeamMember(){this.removeTeamMemberForm.delete(route("team-members.destroy",[this.team,this.teamMemberBeingRemoved]),{errorBag:"removeTeamMember",preserveScroll:!0,preserveState:!0,onSuccess:()=>this.teamMemberBeingRemoved=null})},displayableRole(l){return this.availableRoles.find(e=>e.key===l).name}}},Pe={class:"p-6"},De=s("h3",null,"Team Name",-1),Ie=s("p",null,"The team's name and owner information.",-1),Le={class:"flex items-center mt-2"},Oe=["src","alt"],Je={class:"ml-4 leading-tight"},Ae={class:"text-sm text-gray-700"},qe={class:"flex flex-wrap gap-2"},We=s("span",{class:"material-icons-outlined"}," save ",-1);function ze(l,e,o,v,n,_){const i=u("form-label"),f=u("form-input"),y=u("form-button");return p(),c("div",Pe,[De,Ie,t(i,{value:"Team Owner"}),s("div",Le,[s("img",{class:"object-cover w-12 h-12 rounded-full",src:l.store.user.profile_photo_url,alt:l.store.user.name},null,8,Oe),s("div",Je,[s("div",null,b(l.store.user.name),1),s("div",Ae,b(l.store.user.email),1)])]),s("form",{onSubmit:e[1]||(e[1]=g((...m)=>l.submit&&l.submit(...m),["prevent"]))},[s("div",qe,[t(i,{for:"name",value:"Team Name"}),t(f,{id:"name",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!l.permissions.canUpdateTeam}]),modelValue:l.form.name,"onUpdate:modelValue":e[0]||(e[0]=m=>l.form.name=m),required:"",disabled:!l.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),t(y,{class:r(["mt-4",{"opacity-25":l.store.processing}]),disabled:l.store.processing,title:"Save"},{default:T(()=>[We]),_:1},8,["class","disabled"])],32)])}var Ge=h(Ee,[["render",ze],["__file","/var/www/html/src/components/teams/TeamsManageUsers.vue"]]);const He={class:"bg-white shadow mt-4 prose max-w-none"},Ke={class:"bg-white shadow mt-4 prose max-w-none"},Qe={class:"bg-white shadow mt-4 prose max-w-none"},Xe={async created(){await this.store.get(`http://phmoney_local.kainotomo.localhost/phmoney/teams/${this.$route.params.team_pk}`)}},Ye=P(x(U({},Xe),{name:"TeamsShow",setup(l){return(e,o)=>{const v=u("FormLayout");return e.store.props.team?(p(),D(v,{key:0,title:"User Profile"},{default:T(()=>[s("div",He,[t(Q,{team:e.store.props.team,permissions:e.store.props.permissions},null,8,["team","permissions"])]),s("div",Ke,[t(je,{team:e.store.props.team,permissions:e.store.props.permissions,options:e.store.props.options},null,8,["team","permissions","options"])]),s("div",Qe,[t(Ge,{team:e.store.props.team,availableRoles:e.store.props.availableRoles,userPermissions:e.store.props.userPermissions},null,8,["team","availableRoles","userPermissions"])])]),_:1})):d("v-if",!0)}}}));var es=h(Ye,[["__file","/var/www/html/src/views/teams/TeamsShow.vue"]]);export{es as default};
